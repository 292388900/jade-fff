extends ../layout

block append head
  title=fmt.message("recruiter-dashboard.title", locale)
block append content
  .container
    h1.text-center=fmt.message("recruiter-dashboard.heading", locale)
    .row
      .col-md-9
        h2.text-center=fmt.message("recruiter-dashboard.feedback.heading", locale)
        table.table.table-striped(data-ng-controller="RecruiterFeedback")
          thead
            tr
              th=fmt.message("recruiter-dashboard.feedback.vacancy", locale)
              th=fmt.message("recruiter-dashboard.feedback.employer", locale)
              th=fmt.message("recruiter-dashboard.feedback.status", locale)
              th=fmt.message("recruiter-dashboard.feedback.date", locale)
              th
          tbody
            tr(data-ng-repeat="deal in deals")
              td
                a(href="{{deal.vacancyUrl}}")
                  {{deal.vacancy}}
              td
                a(href="{{deal.employerUrl}}")
                  {{deal.employer}}
              td {{deal.status}}
              td {{deal.updated}}
              td
                a(href="{{deal.feedbackUrl}}")
                  {{deal.feedback}}
        .spacer
        h2.text-center=fmt.message("recruiter-dashboard.deals.heading", locale)
        table.table.table-striped(data-ng-controller="RecruiterDeals")
          thead
            tr
              th=fmt.message("recruiter-dashboard.deals.vacancy", locale)
              th=fmt.message("recruiter-dashboard.deals.employer", locale)
              th=fmt.message("recruiter-dashboard.deals.date", locale)
              th
          tbody
            tr(data-ng-repeat="deal in deals")
              td
                a(href="{{deal.vacancyUrl}}")
                  {{deal.vacancy}}
              td
                a(href="{{deal.employerUrl}}")
                  {{deal.employer}}
              td {{deal.created}}
              td
                a(href="{{deal.dealUrl}}")
                  {{deal.deal}}
        a.btn.btn-link.pull-right(href=domain.buildFullUri("/recruiter-active-deals", locale))
          strong
            #{fmt.message("recruiter-dashboard.my-deals", locale)}
        .spacer
        h2.text-center=fmt.message("recruiter-dashboard.bids.heading", locale)
        table.table.table-striped(data-ng-controller="RecruiterBids")
          thead
            tr
              th=fmt.message("recruiter-dashboard.bids.vacancy", locale)
              th=fmt.message("recruiter-dashboard.bids.employer", locale)
              th=fmt.message("recruiter-dashboard.bids.date", locale)
              th=fmt.message("recruiter-dashboard.bids.viewed", locale)
              th=fmt.message("recruiter-dashboard.bids.status", locale)
          tbody
            tr(data-ng-repeat="bid in bids")
              td
                a(href="#", class="help", recruiter-bid="{{bid.bidId}}", ng-switch="bid.viewed")
                  span(ng-switch-when={{!null}})
                    strong {{bid.vacancy}}
                  span(ng-switch-default) {{bid.vacancy}}
              td
                a(href="{{bid.employerUrl}}")
                  {{bid.employer}}
              td {{bid.created}}
              td {{bid.viewed}}
              td {{bid.status}}
        a.btn.btn-link.pull-right(href=domain.buildFullUri("/recruiter-active-bids", locale))
          strong
            #{fmt.message("recruiter-dashboard.my-bids", locale)}
      .col-md-3
        h2=fmt.message("recruiter-dashboard.about.heading", locale)
        p #{recruiter.user.firstName} #{recruiter.user.lastName}
        img(src=domain.getResourceUrl('/stylesheets/images/empty_avatar.jpg'))
        p #{recruiter.user.description}
        a.btn.btn-link(href=domain.buildFullUri("/recruiter-profile", locale))=fmt.message("recruiter-dashboard.about.profile", locale)
