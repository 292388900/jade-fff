extends ../layout

block append head
  title=fmt.message("recruiter-find-new-vacancies.title")
block append content
  .container
    h1=fmt.message("recruiter-find-new-vacancies.h1")
    form(name="", action="", method="get")
      .row
        .col-md-6
          .form-group
            label(for="searchText")
            input(type="text", class="form-control", id="searchText", name="searchText", value=searchText, placeholder=fmt.message("recruiter-find-new-vacancies.form.search"))
          .checkbox
            label(for="showVacancies")=fmt.message("recruiter-find-new-vacancies.form.vacancies")
            input(type="checkbox", id="showVacancies", name="showVacancies", value="1", checked=showVacancies)
          .checkbox
            label(for="showBids")=fmt.message("recruiter-find-new-vacancies.form.bids")
            input(type="checkbox", id="showBids", name="showBids", value="1", checked=showBids)
          .checkbox
            label(for="showDeals")=fmt.message("recruiter-find-new-vacancies.form.deals")
            input(type="checkbox", id="showDeals", name="showDeals", value="1", checked=showDeals)
            input(type="hidden", id="date", name="date", value=curDateParam)
      .btn-row
        input.btn.btn-success(type="submit", name="submit", value=fmt.message("recruiter-find-new-vacancies.form.submit"))
    if locals.nextDate
      a.btn.btn-link(href=nextDateLink)=fmt.date(nextDate)
    span=fmt.date(curDate)
    a.btn.btn-link(href=prevDateLink)=fmt.date(prevDate)
    table.table.table-striped
      thead
        tr
          th=fmt.message("recruiter-find-new-vacancies.table.name")
          th=fmt.message("recruiter-find-new-vacancies.table.description")
          th=fmt.message("recruiter-find-new-vacancies.table.date")
          th=fmt.message("recruiter-find-new-vacancies.table.bidOrDeal")
          th
      tbody
        for vacancy in vacancies
          tr
            td #{vacancy.title}
            td #{vacancy.description}
            td #{fmt.date(vacancy.creationDate)}
            if vacancy.dealId != 0
              td=fmt.message("recruiter-find-new-vacancies.table.deal")
              td
                a.btn.btn-link(href=domain.getAbsoluteUrl() + "/recruiter-show-in-progress-vacancy/" + vacancy.dealId)=fmt.message("recruiter-find-new-vacancies.more")
            else
              if vacancy.bidId != 0
                td=fmt.message("recruiter-find-new-vacancies.table.bid")
                td
                  a.btn.btn-link(href=domain.getAbsoluteUrl() + "/recruiter-show-bid-vacancy/" + vacancy.bidId)=fmt.message("recruiter-find-new-vacancies.more")
              else
                td
                td
                  a.btn.btn-link(href=domain.getAbsoluteUrl() + "/recruiter-show-vacancy/" + vacancy.id)=fmt.message("recruiter-find-new-vacancies.more")